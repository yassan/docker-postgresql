version: '3'
services:
  postgresql:
    restart: always
    image: yassan/postgresql
    ports:
      - "5432:5432"
    environment:
      - DEBUG=false
      - USERMAP_UID=1000
      - USERMAP_GID=1000
      - PG_PASSWORD=passw0d
      - DB_USER=dbuser
      - DB_PASS=dbuserpass
      - DB_NAME=dbname
      - DB_TEMPLATE=
      - DB_EXTENSION=pgroonga
      - REPLICATION_MODE=
      - REPLICATION_USER=
      - REPLICATION_PASS=
      - REPLICATION_SSLMODE=
    volumes:
      - ./data:/var/lib/postgresql
  pgadmin:
    restart: unless-stopped
    image: dpage/pgadmin4:4
    environment:
      TZ: "Asia/Tokyo"
      PGADMIN_DEFAULT_EMAIL: hoge@huga.com
      PGADMIN_DEFAULT_PASSWORD: passw0d
    volumes:
       - ./data-pgadmin:/root/.pgadmin
    ports:
      - "8100:80"
    links:
      - postgresql
    depends_on:
      - postgresql
